Script started on Fri 04 May 2018 06:51:03 AM UTC
cd
root@stingray:~# cd
root@stingray:~# $HOME/IVG_folder/vm_creator/ubuntu/y_create_vm_from_backing.sh netronome-sriov-vxlan-vm
DONE(delete-vms.sh)
 - undefine VM netronome-sriov-vxlan-vm
DONE(delete-vms.sh)
create overlay image
Formatting '/var/lib/libvirt/images/netronome-sriov-vxlan-vm.qcow2', fmt=qcow2 size=2361393152 backing_file=/var/lib/libvirt/images/ubuntu-17.10-server-cloudimg-amd64.img encryption=off cluster_size=65536 lazy_refcounts=off refcount_bits=16
create domain
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (cli:256) Launched with command line: /usr/share/virt-manager/virt-install --name netronome-sriov-vxlan-vm --disk path=/var/lib/libvirt/images/netronome-sriov-vxlan-vm.qcow2,format=qcow2,bus=virtio,cache=none --ram 6144 --vcpus 5 --cpu Haswell-noTSX-IBRS --network network=default --nographics --debug --accelerate --os-type=linux --os-variant=ubuntu16.04 --noautoconsole --noreboot --import
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (cli:266) Requesting libvirt URI default
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (cli:270) Received libvirt URI qemu:///system
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:357) Requesting virt method 'default', hv type 'default'.
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:577) Received virt method 'kvm'
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:578) Hypervisor name is 'hvm'
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:269) Distilled --network options: ['network=default']
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:315) --graphics compat generated: none
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:182) Distilled --disk options: ['path=/var/lib/libvirt/images/netronome-sriov-vxlan-vm.qcow2,format=qcow2,bus=virtio,cache=none']
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (guest:241) Setting Guest.os_variant to 'ubuntu16.04'
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (virt-install:732) Guest.has_install_phase: False

Starting install...
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (guest:398) Generated install XML: None required
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (guest:399) Generated boot XML: 
<domain type="kvm">
  <name>netronome-sriov-vxlan-vm</name>
  <uuid>59b88075-3ca9-4928-a03a-890e08b475f6</uuid>
  <memory>6291456</memory>
  <currentMemory>6291456</currentMemory>
  <vcpu>5</vcpu>
  <os>
    <type arch="x86_64">hvm</type>
    <boot dev="hd"/>
  </os>
  <features>
    <acpi/>
    <apic/>
  </features>
  <cpu mode="custom" match="exact">
    <model>Haswell-noTSX-IBRS</model>
  </cpu>
  <clock offset="utc">
    <timer name="rtc" tickpolicy="catchup"/>
    <timer name="pit" tickpolicy="delay"/>
    <timer name="hpet" present="no"/>
  </clock>
  <on_poweroff>destroy</on_poweroff>
  <on_reboot>restart</on_reboot>
  <on_crash>restart</on_crash>
  <pm>
    <suspend-to-mem enabled="no"/>
    <suspend-to-disk enabled="no"/>
  </pm>
  <devices>
    <emulator>/usr/bin/kvm-spice</emulator>
    <disk type="file" device="disk">
      <driver name="qemu" type="qcow2" cache="none"/>
      <source file="/var/lib/libvirt/images/netronome-sriov-vxlan-vm.qcow2"/>
      <target dev="vda" bus="virtio"/>
    </disk>
    <controller type="usb" index="0" model="ich9-ehci1"/>
    <controller type="usb" index="0" model="ich9-uhci1">
      <master startport="0"/>
    </controller>
    <controller type="usb" index="0" model="ich9-uhci2">
      <master startport="2"/>
    </controller>
    <controller type="usb" index="0" model="ich9-uhci3">
      <master startport="4"/>
    </controller>
    <interface type="network">
      <source network="default"/>
      <mac address="52:54:00:92:75:4e"/>
      <model type="virtio"/>
    </interface>
    <input type="mouse" bus="ps2"/>
    <console type="pty"/>
  </devices>
</domain>

Creating domain...                                                                            |    0 B  00:00:00     
[Fri, 04 May 2018 06:51:16 virt-install 48613] DEBUG (guest:429) XML fetched from libvirt object:
<domain type='kvm'>
  <name>netronome-sriov-vxlan-vm</name>
  <uuid>59b88075-3ca9-4928-a03a-890e08b475f6</uuid>
  <memory unit='KiB'>6291456</memory>
  <currentMemory unit='KiB'>6291456</currentMemory>
  <vcpu placement='static'>5</vcpu>
  <os>
    <type arch='x86_64' machine='pc-i440fx-xenial'>hvm</type>
    <boot dev='hd'/>
  </os>
  <features>
    <acpi/>
    <apic/>
  </features>
  <cpu mode='custom' match='exact'>
    <model fallback='allow'>Haswell-noTSX-IBRS</model>
  </cpu>
  <clock offset='utc'>
    <timer name='rtc' tickpolicy='catchup'/>
    <timer name='pit' tickpolicy='delay'/>
    <timer name='hpet' present='no'/>
  </clock>
  <on_poweroff>destroy</on_poweroff>
  <on_reboot>restart</on_reboot>
  <on_crash>restart</on_crash>
  <pm>
    <suspend-to-mem enabled='no'/>
    <suspend-to-disk enabled='no'/>
  </pm>
  <devices>
    <emulator>/usr/bin/kvm-spice</emulator>
    <disk type='file' device='disk'>
      <driver name='qemu' type='qcow2' cache='none'/>
      <source file='/var/lib/libvirt/images/netronome-sriov-vxlan-vm.qcow2'/>
      <target dev='vda' bus='virtio'/>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>
    </disk>
    <controller type='usb' index='0' model='ich9-ehci1'>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x7'/>
    </controller>
    <controller type='usb' index='0' model='ich9-uhci1'>
      <master startport='0'/>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0' multifunction='on'/>
    </controller>
    <controller type='usb' index='0' model='ich9-uhci2'>
      <master startport='2'/>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x1'/>
    </controller>
    <controller type='usb' index='0' model='ich9-uhci3'>
      <master startport='4'/>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x2'/>
    </controller>
    <controller type='pci' index='0' model='pci-root'/>
    <interface type='network'>
      <mac address='52:54:00:92:75:4e'/>
      <source network='default'/>
      <model type='virtio'/>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0'/>
    </interface>
    <serial type='pty'>
      <target port='0'/>
    </serial>
    <console type='pty'>
      <target type='serial' port='0'/>
    </console>
    <memballoon model='virtio'>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0'/>
    </memballoon>
  </devices>
</domain>

Domain creation completed.
You can restart your domain by running:
  virsh --connect qemu:///system start netronome-sriov-vxlan-vm
VM has been created!
root@stingray:~# ./IVG_folder/test_case_3_sriov_vxlan_uni/1_port/setup_test_case_3.sh netronome-sriov-vxlan-vm 5 10.1 0.10.1 10.10.10.2 OVS_TC
 * ovsdb-server is already running
 * ovs-vswitchd is already running
 * Enabling remote OVSDB managers
hostname: Name or service not known
ovs-vsctl: external-ids:hostname=: argument does not end in "=" followed by a value.
Stop openvswitch ...
 * Exiting ovs-vswitchd (36858)
 * Exiting ovsdb-server (36848)
PCI corrected
0000:82
Unbinding VFs
Stop Virtioforwarder ...
Failed to stop virtioforwarder.service: Unit virtioforwarder.service not loaded.
rmmod nfp
CLEANED
Reloading nfp module
rmmod: ERROR: Module nfp is not currently loaded
nfp module loaded
Creating VF's ...
Creating VF's done
PCI corrected
0000:82:00.0
enp130s0
Cannot get device udp-fragmentation-offload settings: Operation not supported
Cannot get device udp-fragmentation-offload settings: Operation not supported
rename333
Cannot get device udp-fragmentation-offload settings: Operation not supported
Cannot get device udp-fragmentation-offload settings: Operation not supported
Start OVS
 * Starting ovsdb-server
 * system ID not configured, please use --system-id
 * Configuring Open vSwitch system IDs
 * Starting ovs-vswitchd
 * Enabling remote OVSDB managers
OVS-TC started
PCI corrected
hostname: Name or service not known
ovs-vsctl: external-ids:hostname=: argument does not end in "=" followed by a value.
Add eth11 to br0
ovs-vsctl add-port br0 eth11 -- set interface eth11 ofport_request=10
VF1_PCI_ADDRESS: 0000:82:09.2
INTERFACE_PCI: 0000:82:09.2
current driver: nfp_netvf
expected driver: vfio-pci
testing: unbind nfp_netvf on 0000:82:09.2
FIRST VF DONE
Add eth12 to br0
ovs-vsctl add-port br0 eth12 -- set interface eth12 ofport_request=11
VF2_PCI_ADDRESS: 0000:82:09.3
INTERFACE_PCI: 0000:82:09.3
current driver: nfp_netvf
expected driver: vfio-pci
testing: unbind nfp_netvf on 0000:82:09.3
SECOND VF DONE
Add eth13 to br0
ovs-vsctl add-port br0 eth13 -- set interface eth13 ofport_request=12
VF3_PCI_ADDRESS: 0000:82:09.4
INTERFACE_PCI: 0000:82:09.4
current driver: nfp_netvf
expected driver: vfio-pci
testing: unbind nfp_netvf on 0000:82:09.4
THIRD VF DONE
Add eth14 to br0
ovs-vsctl add-port br0 eth14 -- set interface eth14 ofport_request=13
VF4_PCI_ADDRESS: 0000:82:09.5
INTERFACE_PCI: 0000:82:09.5
current driver: nfp_netvf
expected driver: vfio-pci
testing: unbind nfp_netvf on 0000:82:09.5
FOURTH VF DONE
pf0 = eth2
p0 = rename333
d6eff4d8-c118-40a0-bf18-4eafe70ae0de
    Bridge "br0"
        Port "vxlan01"
            Interface "vxlan01"
                type: vxlan
                options: {key=flow, remote_ip="10.10.10.1"}
        Port "eth14"
            Interface "eth14"
        Port "br0"
            Interface "br0"
                type: internal
        Port "eth13"
            Interface "eth13"
        Port "eth12"
            Interface "eth12"
        Port "eth11"
            Interface "eth11"
    ovs_version: "2.8.3"
OFPT_FEATURES_REPLY (xid=0x2): dpid:00006606593add4a
n_tables:254, n_buffers:0
capabilities: FLOW_STATS TABLE_STATS PORT_STATS QUEUE_STATS ARP_MATCH_IP
actions: output enqueue set_vlan_vid set_vlan_pcp strip_vlan mod_dl_src mod_dl_dst mod_nw_src mod_nw_dst mod_nw_tos mod_tp_src mod_tp_dst
 1(vxlan01): addr:32:09:44:ab:42:fc
     config:     0
     state:      0
     speed: 0 Mbps now, 0 Mbps max
 10(eth11): addr:8a:f6:cd:a4:3d:0c
     config:     0
     state:      LINK_DOWN
     supported:  FIBER
     speed: 0 Mbps now, 0 Mbps max
 11(eth12): addr:12:55:a7:25:4c:96
     config:     0
     state:      LINK_DOWN
     supported:  FIBER
     speed: 0 Mbps now, 0 Mbps max
 12(eth13): addr:8e:a0:58:73:fb:6d
     config:     0
     state:      LINK_DOWN
     supported:  FIBER
     speed: 0 Mbps now, 0 Mbps max
 13(eth14): addr:62:c6:08:cc:1f:ec
     config:     0
     state:      LINK_DOWN
     supported:  FIBER
     speed: 0 Mbps now, 0 Mbps max
 LOCAL(br0): addr:66:06:59:3a:dd:4a
     config:     PORT_DOWN
     state:      LINK_DOWN
     speed: 0 Mbps now, 0 Mbps max
OFPT_GET_CONFIG_REPLY (xid=0x4): frags=normal miss_send_len=0
2
Domain netronome-sriov-vxlan-vm XML configuration not changed.

Domain netronome-sriov-vxlan-vm XML configuration not changed.

Domain netronome-sriov-vxlan-vm XML configuration edited.

Domain netronome-sriov-vxlan-vm XML configuration edited.

Domain netronome-sriov-vxlan-vm XML configuration edited.

Domain netronome-sriov-vxlan-vm XML configuration edited.

Domain netronome-sriov-vxlan-vm XML configuration edited.

Domain netronome-sriov-vxlan-vm XML configuration not changed.

Domain netronome-sriov-vxlan-vm XML configuration edited.

Domain netronome-sriov-vxlan-vm XML configuration edited.

netronome-sriov-vxlan-vm
nfp_cpu_list: 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 31 33 35 37 39 41 43 45 47
VCPU: CPU Affinity
----------------------------------
   0: 3
   1: 5
   2: 7
   3: 9
   4: 11

DONE(setup_test_case_3.sh)
root@stingray:~# ./IVG_folder/helper_scripts/start_vm.sh netronome-sriov-vxlan-vm
Domain netronome-sriov-vxlan-vm started

Waiting for VM to boot ............................... UP
Welcome to Ubuntu 17.10 (GNU/Linux 4.13.0-39-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage


  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

1 package can be updated.
0 updates are security updates.

New release '18.04 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


WELCOME
root@netronome-sriov-vxlan-vm:~# cd vm_scripts/samples/DPDK-pktgen
root@netronome-sriov-vxlan-vm:~/vm_scripts/samples/DPDK-pktgen# ./1_configure_hugepages.sh
1024
root@netronome-sriov-vxlan-vm:~/vm_scripts/samples/DPDK-pktgen# ./2_auto_bind_igb_uio.sh
00:0a.0 00:0b.0 00:0c.0 00:0d.0
netronome_vf: 00:0a.0
netronome_vf: 00:0b.0
netronome_vf: 00:0c.0
netronome_vf: 00:0d.0
whitelist:  00:0a.0 00:0b.0 00:0c.0 00:0d.0
root@netronome-sriov-vxlan-vm:~/vm_scripts/samples/DPDK-pktgen# cd 3_dpdk_pktgen_lua_capture
root@netronome-sriov-vxlan-vm:~/vm_scripts/samples/DPDK-pktgen/3_dpdk_pktgen_lua_capture# ./0_run_dpdk-pktgen_uni-rx.ssh
netronome_vf: 0000:00:0a.0
netronome_vf: 0000:00:0b.0
netronome_vf: 0000:00:0c.0
netronome_vf: 0000:00:0d.0
netronome_vf: 0000:00:0a.0
cpu_counter: 1
netronome_vf: 0000:00:0b.0
cpu_counter: 2
netronome_vf: 0000:00:0c.0
cpu_counter: 3
netronome_vf: 0000:00:0d.0
cpu_counter: 4
whitelist:  -w 0000:00:0a.0 -w 0000:00:0b.0 -w 0000:00:0c.0 -w 0000:00:0d.0
mapping: -m 1.0,2.1,3.2,4.3
[1;r[100;1H
Copyright (c) <2010-2017>, Intel Corporation. All rights reserved. Powered by DPDK
EAL: Detected 5 lcore(s)
EAL: Auto-detected process type: PRIMARY
EAL: No free hugepages reported in hugepages-1048576kB
EAL: Probing VFIO support...
EAL: WARNING: cpu flags constant_tsc=yes nonstop_tsc=no -> using unreliable clock cycles !
EAL: PCI device 0000:00:0a.0 on NUMA socket -1
EAL:   probe driver: 19ee:6003 net_nfp
PMD: nfp_net_init(): VER: 0x300, Maximum supported MTU: 9420
PMD: nfp_net_init(): CAP: 0x140673, PROMISC RXCSUM TXCSUM RXVLAN GATHER TSO 
PMD: nfp_net_init(): max_rx_queues: 1, max_tx_queues: 1
PMD: nfp_net_init(): port 0 VendorID=0x19ee DeviceID=0x6003 mac=c2:fb:5a:8c:00:37
EAL: PCI device 0000:00:0b.0 on NUMA socket -1
EAL:   probe driver: 19ee:6003 net_nfp
PMD: nfp_net_init(): VER: 0x300, Maximum supported MTU: 9420
PMD: nfp_net_init(): CAP: 0x140673, PROMISC RXCSUM TXCSUM RXVLAN GATHER TSO 
PMD: nfp_net_init(): max_rx_queues: 1, max_tx_queues: 1
PMD: nfp_net_init(): port 1 VendorID=0x19ee DeviceID=0x6003 mac=82:d2:44:7e:f3:c7
EAL: PCI device 0000:00:0c.0 on NUMA socket -1
EAL:   probe driver: 19ee:6003 net_nfp
PMD: nfp_net_init(): VER: 0x300, Maximum supported MTU: 9420
PMD: nfp_net_init(): CAP: 0x140673, PROMISC RXCSUM TXCSUM RXVLAN GATHER TSO 
PMD: nfp_net_init(): max_rx_queues: 1, max_tx_queues: 1
PMD: nfp_net_init(): port 2 VendorID=0x19ee DeviceID=0x6003 mac=5e:4f:15:46:8f:ea
EAL: PCI device 0000:00:0d.0 on NUMA socket -1
EAL:   probe driver: 19ee:6003 net_nfp
PMD: nfp_net_init(): VER: 0x300, Maximum supported MTU: 9420
PMD: nfp_net_init(): CAP: 0x140673, PROMISC RXCSUM TXCSUM RXVLAN GATHER TSO 
PMD: nfp_net_init(): max_rx_queues: 1, max_tx_queues: 1
PMD: nfp_net_init(): port 3 VendorID=0x19ee DeviceID=0x6003 mac=3e:ad:b3:2d:fd:e6
[0;39;49m[1;r[45;1H











































Lua 5.3.4  Copyright (C) 1994-2017 Lua.org, PUC-Rio
[0;39;49m[1;r[45;1H











































   Copyright (c) <2010-2017>, Intel Corporation. All rights reserved.
   Pktgen created by: Keith Wiles -- >>> Powered by DPDK <<<

>>> Packet Burst 64, RX Desc 512, TX Desc 1024, mbufs/port 32768, mbuf cache 4096

=== port to lcore mapping table (# lcores 5) ===
   lcore:    0       1       2       3       4      Total
port   0: ( D: T) ( 1: 1) ( 0: 0) ( 0: 0) ( 0: 0) = ( 1: 1)
port   1: ( D: T) ( 0: 0) ( 1: 1) ( 0: 0) ( 0: 0) = ( 1: 1)
port   2: ( D: T) ( 0: 0) ( 0: 0) ( 1: 1) ( 0: 0) = ( 1: 1)
port   3: ( D: T) ( 0: 0) ( 0: 0) ( 0: 0) ( 1: 1) = ( 1: 1)
Total   : ( 0: 0) ( 1: 1) ( 1: 1) ( 1: 1) ( 1: 1)
  Display and Timer on lcore 0, rx:tx counts per port/lcore

Configuring 4 ports, MBUF Size 2176, MBUF Cache Size 4096
Lcore:
    1, RX-TX  
                RX_cnt( 1): (pid= 0:qid= 0) 
                TX_cnt( 1): (pid= 0:qid= 0) 
    2, RX-TX  
                RX_cnt( 1): (pid= 1:qid= 0) 
                TX_cnt( 1): (pid= 1:qid= 0) 
    3, RX-TX  
                RX_cnt( 1): (pid= 2:qid= 0) 
                TX_cnt( 1): (pid= 2:qid= 0) 
    4, RX-TX  
                RX_cnt( 1): (pid= 3:qid= 0) 
                TX_cnt( 1): (pid= 3:qid= 0) 

Port :
    0, nb_lcores  1, private 0x55d91083f3a0, lcores:  1 
    1, nb_lcores  1, private 0x55d910841f00, lcores:  2 
    2, nb_lcores  1, private 0x55d910844a60, lcores:  3 
    3, nb_lcores  1, private 0x55d9108475c0, lcores:  4 



** Default Info (0000:00:0a.0, if_index:0) **
   max_vfs        :   0, min_rx_bufsize    :  68, max_rx_pktlen :  9420
   max_rx_queues  :   1, max_tx_queues     :   1
   max_mac_addrs  :   1, max_hash_mac_addrs:   0, max_vmdq_pools:     0
   rx_offload_capa:  15, tx_offload_capa   :  46, reta_size     :   128, flow_type_rss_offloads:0000000000000000
   vmdq_queue_base:   0, vmdq_queue_num    :   0, vmdq_pool_base:     0
** RX Conf **
   pthresh        :   8, hthresh          :   8, wthresh        :     0
   Free Thresh    :  32, Drop Enable      :   0, Deferred Start :     0
** TX Conf **
   pthresh        :  32, hthresh          :   0, wthresh        :     0
   Free Thresh    :  32, RS Thresh        :  32, Deferred Start :     0, TXQ Flags:00000f01

    Create: Default RX  0:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
      Set RX queue stats mapping pid 0, q 0, lcore 1


    Create: Default TX  0:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Range TX    0:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Sequence TX 0:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Special TX  0:0  - Memory used (MBUFs   64 x (size 2176 + Hdr 128)) + 192 =    145 KB headroom 128 2176

                                                                       Port memory used = 295057 KB
Initialize Port 0 -- TxQ 1, RxQ 1,  Src MAC c2:fb:5a:8c:00:37

** Default Info (0000:00:0b.0, if_index:0) **
   max_vfs        :   0, min_rx_bufsize    :  68, max_rx_pktlen :  9420
   max_rx_queues  :   1, max_tx_queues     :   1
   max_mac_addrs  :   1, max_hash_mac_addrs:   0, max_vmdq_pools:     0
   rx_offload_capa:  15, tx_offload_capa   :  46, reta_size     :   128, flow_type_rss_offloads:0000000000000000
   vmdq_queue_base:   0, vmdq_queue_num    :   0, vmdq_pool_base:     0
** RX Conf **
   pthresh        :   8, hthresh          :   8, wthresh        :     0
   Free Thresh    :  32, Drop Enable      :   0, Deferred Start :     0
** TX Conf **
   pthresh        :  32, hthresh          :   0, wthresh        :     0
   Free Thresh    :  32, RS Thresh        :  32, Deferred Start :     0, TXQ Flags:00000f01

    Create: Default RX  1:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
      Set RX queue stats mapping pid 1, q 0, lcore 2


    Create: Default TX  1:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Range TX    1:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Sequence TX 1:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Special TX  1:0  - Memory used (MBUFs   64 x (size 2176 + Hdr 128)) + 192 =    145 KB headroom 128 2176

                                                                       Port memory used = 295057 KB
Initialize Port 1 -- TxQ 1, RxQ 1,  Src MAC 82:d2:44:7e:f3:c7

** Default Info (0000:00:0c.0, if_index:0) **
   max_vfs        :   0, min_rx_bufsize    :  68, max_rx_pktlen :  9420
   max_rx_queues  :   1, max_tx_queues     :   1
   max_mac_addrs  :   1, max_hash_mac_addrs:   0, max_vmdq_pools:     0
   rx_offload_capa:  15, tx_offload_capa   :  46, reta_size     :   128, flow_type_rss_offloads:0000000000000000
   vmdq_queue_base:   0, vmdq_queue_num    :   0, vmdq_pool_base:     0
** RX Conf **
   pthresh        :   8, hthresh          :   8, wthresh        :     0
   Free Thresh    :  32, Drop Enable      :   0, Deferred Start :     0
** TX Conf **
   pthresh        :  32, hthresh          :   0, wthresh        :     0
   Free Thresh    :  32, RS Thresh        :  32, Deferred Start :     0, TXQ Flags:00000f01

    Create: Default RX  2:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
      Set RX queue stats mapping pid 2, q 0, lcore 3


    Create: Default TX  2:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Range TX    2:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Sequence TX 2:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Special TX  2:0  - Memory used (MBUFs   64 x (size 2176 + Hdr 128)) + 192 =    145 KB headroom 128 2176

                                                                       Port memory used = 295057 KB
Initialize Port 2 -- TxQ 1, RxQ 1,  Src MAC 5e:4f:15:46:8f:ea

** Default Info (0000:00:0d.0, if_index:0) **
   max_vfs        :   0, min_rx_bufsize    :  68, max_rx_pktlen :  9420
   max_rx_queues  :   1, max_tx_queues     :   1
   max_mac_addrs  :   1, max_hash_mac_addrs:   0, max_vmdq_pools:     0
   rx_offload_capa:  15, tx_offload_capa   :  46, reta_size     :   128, flow_type_rss_offloads:0000000000000000
   vmdq_queue_base:   0, vmdq_queue_num    :   0, vmdq_pool_base:     0
** RX Conf **
   pthresh        :   8, hthresh          :   8, wthresh        :     0
   Free Thresh    :  32, Drop Enable      :   0, Deferred Start :     0
** TX Conf **
   pthresh        :  32, hthresh          :   0, wthresh        :     0
   Free Thresh    :  32, RS Thresh        :  32, Deferred Start :     0, TXQ Flags:00000f01

    Create: Default RX  3:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
      Set RX queue stats mapping pid 3, q 0, lcore 4


    Create: Default TX  3:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Range TX    3:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Sequence TX 3:0  - Memory used (MBUFs 32768 x (size 2176 + Hdr 128)) + 192 =  73729 KB headroom 128 2176
    Create: Special TX  3:0  - Memory used (MBUFs   64 x (size 2176 + Hdr 128)) + 192 =    145 KB headroom 128 2176

                                                                       Port memory used = 295057 KB
Initialize Port 3 -- TxQ 1, RxQ 1,  Src MAC 3e:ad:b3:2d:fd:e6
                                                                      Total memory used = 1180228 KB
PMD: Port 1: Link Up - speed 100000 Mbps - full-duplex
PMD: PCI Address: 0000:00:11:0
Port  0: Link Up - speed 100000 Mbps - full-duplex
Port  1: Link Up - speed 100000 Mbps - full-duplex
Port  2: Link Up - speed 100000 Mbps - full-duplex
Port  3: Link Up - speed 100000 Mbps - full-duplex


=== Display processing on lcore 0
  RX/TX processing lcore:   1 rx:  1 tx:  1
For RX found 1 port(s) for lcore 1
For TX found 1 port(s) for lcore 1
  RX/TX processing lcore:   2 rx:  1 tx:  1
For RX found 1 port(s) for lcore 2
For TX found 1 port(s) for lcore 2
  RX/TX processing lcore:   3 rx:  1 tx:  1
For RX found 1 port(s) for lcore 3
For TX found 1 port(s) for lcore 3
  RX/TX processing lcore:   4 rx:  1 tx:  1
For RX found 1 port(s) for lcore 4
For TX found 1 port(s) for lcore 4
[1;r[45;1H











































[2J[100;1H7[1;1H-[1;20H<Main Page>  Copyright (c) <2010-2017>, Intel Corporation[1;3HPorts 0-3 of 4[2;1H  Flags:Port        [3;1HLink State          [4;1HPkts/s Max/Rx       [5;1H       Max/Tx       [6;1HMBits/s Rx/Tx       [7;1HBroadcast           [8;1HMulticast           [9;1H  64 Bytes          [10;1H  65-127            [11;1H  128-255           [12;1H  256-511           [13;1H  512-1023          [14;1H  1024-1518         [15;1HRunts/Jumbos        [16;1HErrors Rx/Tx        [17;1HTotal Rx Pkts       [18;1H      Tx Pkts       [19;1H      Rx MBs        [20;1H      Tx MBs        [21;1HARP/ICMP Pkts       [23;1HPattern Type        [24;1HTx Count/% Rate     [25;1HPktSize/Tx Burst    [26;1HSrc/Dest Port       [27;1HPkt Type:VLAN ID    [28;1HDst  IP Address     [29;1HSrc  IP Address     [30;1HDst MAC Address     [31;1HSrc MAC Address     [32;1HVendID/PCI Addr     [35;r[34;1H-------------------------------------------------------------------------------[34;3H Pktgen Ver: 3.4.1 (DPDK 17.05.0)  Powered by DPDK [2;19H:[3;19H:[4;19H:[5;19H:[6;19H:[7;19H:[8;19H:[9;19H:[10;19H:[11;19H:[12;19H:[13;19H:[14;19H:[15;19H:[16;19H:[17;19H:[18;19H:[19;19H:[20;19H:[21;19H:[22;19H:[23;19H:[24;19H:[25;19H:[26;19H:[27;19H:[28;19H:[29;19H:[30;19H:[31;19H:[32;19H:[23;20H             abcd...[24;20H       Forever /100%[25;20H           64 /   64[26;20H         1234 / 5678[27;20H     IPv4 / TCP:0001[28;20H         192.168.1.1[29;20H      192.168.0.1/24[30;20H   82:d2:44:7e:f3:c7[31;20H   c2:fb:5a:8c:00:37[32;20H   19ee:6003/00:10.0[23;40H             abcd...[24;40H       Forever /100%[25;40H           64 /   64[26;40H         1234 / 5678[27;40H     IPv4 / TCP:0001[28;40H         192.168.0.1[29;40H      192.168.1.1/24[30;40H   c2:fb:5a:8c:00:37[31;40H   82:d2:44:7e:f3:c7[32;40H   19ee:6003/00:11.0[23;60H             abcd...[24;60H       Forever /100%[25;60H           64 /   64[26;60H         1234 / 5678[27;60H     IPv4 / TCP:0001[28;60H         192.168.3.1[29;60H      192.168.2.1/24[30;60H   3e:ad:b3:2d:fd:e6[31;60H   5e:4f:15:46:8f:ea[32;60H   19ee:6003/00:12.0[23;80H             abcd...[24;80H       Forever /100%[25;80H           64 /   64[26;80H         1234 / 5678[27;80H     IPv4 / TCP:0001[28;80H         192.168.2.1[29;80H      192.168.3.1/24[30;80H   5e:4f:15:46:8f:ea[31;80H   3e:ad:b3:2d:fd:e6[32;80H   19ee:6003/00:13.0[3;100H     ----TotalRate----[K[2;20H   ---------------:0[3;20H      <UP-100000-FD>[4;20H                 0/0[5;20H                 0/0[6;20H                 0/0[7;20H                   0[8;20H                   0[9;20H                   0[10;20H                   2[11;20H                   0[12;20H                   0[13;20H                   0[14;20H                   0[15;20H                 0/0[16;20H                 0/0[17;20H                   0[18;20H                   0[19;20H                   0[20;20H                   0[21;20H                 0/0[2;40H   ---------------:1[3;40H      <UP-100000-FD>[4;40H                 0/0[5;40H                 0/0[6;40H                 0/0[7;40H                   0[8;40H                   0[9;40H                   0[10;40H                   2[11;40H                   0[12;40H                   0[13;40H                   0[14;40H                   0[15;40H                 0/0[16;40H                 0/0[17;40H                   0[18;40H                   0[19;40H                   0[20;40H                   0[21;40H                 0/0[2;60H   ---------------:2[3;60H      <UP-100000-FD>[4;60H                 0/0[5;60H                 0/0[6;60H                 0/0[7;60H                   0[8;60H                   0[9;60H                   0[10;60H                   3[11;60H                   0[12;60H                   0[13;60H                   0[14;60H                   0[15;60H                 0/0[16;60H                 0/0[17;60H                   0[18;60H                   0[19;60H                   0[20;60H                   0[21;60H                 0/0[2;80H   ---------------:3[3;80H      <UP-100000-FD>[4;80H                 0/0[5;80H                 0/0[6;80H                 0/0[7;80H                   0[8;80H                   0[9;80H                   0[10;80H                   2[11;80H                   0[12;80H                   0[13;80H                   0[14;80H                   0[15;80H                 0/0[16;80H                 0/0[17;80H                   0[18;80H                   0[19;80H                   0[20;80H                   0[21;80H                 0/0[4;100H                   0/0[K[5;100H                   0/0[K[6;100H                   0/0[K8
** Version: DPDK 17.05.0, Command Line Interface with timers
Pktgen:/> [2J[1;r[100;1HPort Count 4
Total port Count 4
-- 0.0,4,-nan,0,0

PMD: Port 0: Link Up - speed 100000 Mbps - full-duplex
PMD: PCI Address: 0000:00:10:0
-- 1.0,4,74,1,0

PMD: Port 2: Link Up - speed 100000 Mbps - full-duplex
PMD: PCI Address: 0000:00:12:0
PMD: Port 3: Link Up - speed 100000 Mbps - full-duplex
PMD: PCI Address: 0000:00:13:0
-- 2.0,4,-nan,0,0

-- 3.0,4,74,1,0

-- 4.0,4,-nan,0,0

-- 5.0,4,64,36,0

-- 6.0,4,-nan,0,0

-- 7.0,4,64,224448,149

-- 8.0,4,64,371787,249

-- 9.0,4,64,20,0

-- 10.0,4,64,255559,170

-- 11.0,4,64,1323561,887

-- 12.0,4,64,1965764,1319

-- 13.0,4,64,2695783,1809

-- 14.0,4,64,3471328,2330

-- 15.0,4,64,4213471,2829

-- 16.0,4,64,4524529,3039

-- 17.0,4,64,4448578,2988

-- 18.0,4,64,4387033,2946

-- 19.0,4,64,4514108,3032

-- 20.0,4,64,4642045,3117

-- 21.0,4,64,4724898,3174

-- 23.0,4,64,4943435,3319

-- 24.0,4,64,4613281,3099

-- 25.0,4,64,4589078,3082

-- 26.0,4,64,7534736,5062

-- 27.0,4,64,8818028,5924

-- 28.0,4,64,5757442,3866

-- 29.0,4,64,5814488,3905

-- 30.0,4,64,6041241,4058

-- 31.0,4,64,1481318,993

-- 32.0,4,128,2136291,2526

-- 33.0,4,128,3707455,4388

-- 34.0,4,128,3310426,3917

-- 35.0,4,128,4537319,5370

-- 36.0,4,128,5085466,6020

-- 37.0,4,128,6024622,7132

-- 38.0,4,128,6432685,7614

-- 39.0,4,128,6580580,7789

-- 40.0,4,128,6794623,8043

-- 41.0,4,128,6812000,8063

-- 42.0,4,128,6819389,8072

-- 43.0,4,128,6576271,7784

-- 44.0,4,128,7122317,8430

-- 45.0,4,128,7411376,8773

-- 46.0,4,128,8236157,9749

-- 47.0,4,128,8134500,9630

-- 48.0,4,128,7349928,8701

-- 49.0,4,128,8196053,9702

-- 50.0,4,128,8059445,9540

-- 51.0,4,128,5683697,6727

-- 52.0,4,229,3230,5

-- 53.0,4,256,8401516,18548

-- 54.0,4,256,8751708,19322

-- 55.0,4,256,8901078,19651

-- 56.0,4,256,12844848,28359

-- 57.0,4,256,14282100,31533

-- 58.0,4,256,14194939,31341

-- 59.0,4,256,14521532,32062

-- 60.0,4,256,14357185,31699

-- 61.0,4,256,14530707,32081

-- 62.0,4,256,14223578,31405

-- 64.0,4,256,14940616,32987

-- 65.0,4,256,14190035,31330

-- 66.0,4,256,14025476,30967

-- 67.0,4,256,14713897,32486

-- 68.0,4,256,13944977,30788

-- 69.0,4,256,14256706,31477

-- 70.0,4,256,14303704,31579

-- 71.0,4,256,14287726,31545

-- 72.0,4,256,14059565,31041

-- 73.0,4,256,14371495,31730

-- 74.0,4,256,1148151,2533

-- 75.0,4,512,4612854,19629

-- 76.0,4,512,7961720,33884

-- 77.0,4,512,8096937,34458

-- 78.0,4,512,7940677,33792

-- 79.0,4,512,7919563,33704

-- 80.0,4,512,8002069,34055

-- 81.0,4,512,8100163,34473

-- 82.0,4,512,7880857,33539

-- 83.0,4,512,7926042,33732

-- 84.0,4,512,8201247,34901

-- 85.0,4,512,7902026,33629

-- 86.0,4,512,7880763,33538

-- 87.0,4,512,8090808,34433

-- 88.0,4,512,8041278,34222

-- 89.0,4,512,7961908,33884

-- 90.0,4,512,7969441,33916

-- 91.0,4,512,8113349,34529

-- 92.0,4,512,7965461,33899

-- 93.0,4,512,8158358,34721

-- 94.0,4,512,3936207,16751

-- 95.0,4,1024,795940,6645

-- 96.0,4,1024,4375901,36545

-- 97.0,4,1024,4373605,36526

-- 98.0,4,1024,4320641,36084

-- 99.0,4,1024,4312873,36020

-- 100.0,4,1024,4458921,37240

-- 101.0,4,1024,4297396,35889

-- 102.0,4,1024,4284893,35786

-- 103.0,4,1024,4402860,36771

-- 104.0,4,1024,4395085,36706

-- 105.0,4,1024,4291042,35838

-- 106.0,4,1024,4316167,36047

-- 107.0,4,1024,4474834,37372

-- 108.0,4,1024,4333197,36188

-- 109.0,4,1024,4323865,36111

-- 110.0,4,1024,4465728,37296

-- 111.0,4,1024,4289957,35827

-- 112.0,4,1024,4372934,36521

-- 113.0,4,1024,4326932,36137

-- 114.0,4,1024,4435090,37040

-- 115.0,4,1024,3847772,32135

-- 117.0,4,64,32,0

-- 118.0,4,1280,2774600,28855

-- 119.0,4,1280,3516633,36571

-- 120.0,4,1280,3543378,36849

-- 121.0,4,1280,3553141,36951

-- 122.0,4,1280,3608494,37526

-- 123.0,4,1280,3541503,36830

-- 124.0,4,1280,3536184,36774

-- 125.0,4,1280,3591608,37351

-- 126.0,4,1280,3572009,37147

-- 127.0,4,1280,3552257,36943

-- 128.0,4,1280,3564482,37069

-- 129.0,4,1280,3624043,37688

-- 130.0,4,1280,3507718,36479

-- 131.0,4,1280,3517415,36580

-- 132.0,4,1280,3661531,38078

-- 133.0,4,1280,3484471,36237

-- 134.0,4,1280,3519334,36599

-- 135.0,4,1280,3646707,37924

-- 136.0,4,1280,3526392,36673

-- 137.0,4,1280,3589127,37324

-- 138.0,4,1280,1111548,11557

-- 139.0,4,1450,1091432,12834

-- 140.0,4,1450,3118680,36674

-- 141.0,4,1450,3144094,36973

-- 142.0,4,1450,3235151,38043

-- 143.0,4,1450,3137739,36898

-- 144.0,4,1450,3110502,36578

-- 145.0,4,1450,3196455,37588

-- 146.0,4,1450,3219011,37854

-- 147.0,4,1450,3107191,36539

-- 148.0,4,1450,3257199,38302

-- 149.0,4,1450,3160176,37162

-- 150.0,4,1450,3130761,36816

-- 151.0,4,1450,3178043,37372

-- 152.0,4,1450,3113559,36614

-- 153.0,4,1450,3141468,36942

-- 154.0,4,1450,3209614,37744

-- 155.0,4,1450,3230418,37988

-- 156.0,4,1450,3152009,37066

-- 157.0,4,1450,3114272,36623

-- 158.0,4,1450,2336078,27469

-- 159.0,4,-nan,0,0

-- 160.0,4,-nan,0,0

-- 161.0,4,-nan,0,0

-- 162.0,4,-nan,0,0

-- 163.0,4,-nan,0,0

-- 164.0,4,-nan,0,0

-- 165.0,4,-nan,0,0

-- 166.0,4,-nan,0,0

-- 167.0,4,-nan,0,0

-- 168.0,4,-nan,0,0

-- 170.0,4,-nan,0,0

-- 171.0,4,-nan,0,0

-- 172.0,4,-nan,0,0

-- 173.0,4,-nan,0,0

-- 174.0,4,-nan,0,0

-- 175.0,4,-nan,0,0

-- 176.0,4,74,1,0

-- 177.0,4,-nan,0,0

-- 178.0,4,-nan,0,0

-- 179.0,4,-nan,0,0

-- 180.0,4,-nan,0,0

-- 181.0,4,-nan,0,0

-- 182.0,4,-nan,0,0

-- 183.0,4,-nan,0,0

-- 184.0,4,-nan,0,0

-- 185.0,4,-nan,0,0

-- 186.0,4,-nan,0,0

-- 187.0,4,-nan,0,0

-- 188.0,4,-nan,0,0

-- 189.0,4,-nan,0,0

-- 190.0,4,-nan,0,0

[3g        H        H        H        H        H        H        H        H        H        H        H        H        H        Hc[?1000l[?25hTest run complete
root@netronome-sriov-vxlan-vm:~/vm_scripts/samples/DPDK-pktgen/3_dpdk_pktgen_lua_capture# ./parse_and_plot.py
Data parse complete!
root@netronome-sriov-vxlan-vm:~/vm_scripts/samples/DPDK-pktgen/3_dpdk_pktgen_lua_capture# exit
logout
Connection to 192.168.122.203 closed.
root@stingray:~# ./IVG_folder/helper_scripts/x_copy_data_dump.sh netronome-sriov-vxlan-vm
capture.txt                                                                          0%    0     0.0KB/s   --:-- ETAcapture.txt                                                                        100% 6890     6.7KB/s   00:00    
parsed_data.txt                                                                      0%    0     0.0KB/s   --:-- ETAparsed_data.txt                                                                    100%  174     0.2KB/s   00:00    
root@stingray:~# $IVG_dir/helper_scripts/delete-vms.sh --all --shutdown
 - shutdown VM netronome-sriov-vxlan-vm
DONE(delete-vms.sh)
root@stingray:~# exit
exit

Script done on Fri 04 May 2018 06:56:26 AM UTC
